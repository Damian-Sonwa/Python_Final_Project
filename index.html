<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Star Learners Academy - Comprehensive LMS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8fafc;
        }

        /* Authentication Styles */
        .auth-container {
            min-height: 100vh;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .auth-card {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            width: 100%;
            max-width: 400px;
        }

        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo-container {
            width: 80px;
            height: 80px;
            background: #3b82f6;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            fill: white;
        }

        .auth-title {
            font-size: 28px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .auth-subtitle {
            color: #6b7280;
            font-size: 16px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #374151;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 10px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-input:focus {
            outline: none;
            border-color: #3b82f6;
        }

        .form-input.error {
            border-color: #ef4444;
        }

        .error-message {
            color: #ef4444;
            font-size: 14px;
            margin-top: 4px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: #3b82f6;
            color: white;
            width: 100%;
            padding: 14px;
            font-size: 16px;
        }

        .btn-primary:hover {
            background: #2563eb;
            transform: translateY(-2px);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .auth-switch {
            text-align: center;
            margin-top: 20px;
            color: #6b7280;
        }

        .auth-switch a {
            color: #3b82f6;
            text-decoration: none;
            font-weight: 500;
        }

        .demo-accounts {
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
        }

        .demo-title {
            text-align: center;
            font-size: 12px;
            color: #6b7280;
            margin-bottom: 12px;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
        }

        .demo-account {
            background: #f9fafb;
            padding: 8px;
            border-radius: 6px;
            font-size: 12px;
        }

        .demo-role {
            font-weight: 600;
            color: #374151;
        }

        /* Main App Styles */
        .app-container {
            display: flex;
            height: 100vh;
        }

        /* Sidebar */
        .sidebar {
            width: 260px;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            position: fixed;
            height: 100vh;
            left: 0;
            top: 0;
            z-index: 1000;
            transform: translateX(-100%);
            transition: transform 0.3s ease;
        }

        .sidebar.open {
            transform: translateX(0);
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .sidebar-logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sidebar-logo-icon {
            width: 32px;
            height: 32px;
            background: #3b82f6;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .sidebar-logo-text {
            font-size: 18px;
            font-weight: bold;
            color: #1f2937;
        }

        .close-sidebar {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #6b7280;
            display: none;
        }

        .sidebar-nav {
            padding: 20px 12px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            margin-bottom: 4px;
            border-radius: 10px;
            color: #6b7280;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .nav-item:hover {
            background: #f3f4f6;
            color: #374151;
        }

        .nav-item.active {
            background: #dbeafe;
            color: #3b82f6;
            border-right: 3px solid #3b82f6;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            margin-right: 12px;
        }

        .sidebar-footer {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 20px;
            border-top: 1px solid #e5e7eb;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: #3b82f6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        .user-details {
            flex: 1;
        }

        .user-name {
            font-weight: 600;
            color: #1f2937;
            font-size: 14px;
        }

        .user-plan {
            font-size: 12px;
            color: #6b7280;
            text-transform: capitalize;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: 0;
            transition: margin-left 0.3s ease;
        }

        .main-content.sidebar-open {
            margin-left: 260px;
        }

        /* Header */
        .header {
            background: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 16px 24px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .menu-toggle {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #6b7280;
            padding: 8px;
            border-radius: 6px;
        }

        .menu-toggle:hover {
            background: #f3f4f6;
        }

        .search-container {
            position: relative;
        }

        .search-input {
            padding: 8px 12px 8px 40px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            width: 300px;
            font-size: 14px;
        }

        .search-icon {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            width: 16px;
            height: 16px;
            color: #9ca3af;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .notification-btn {
            position: relative;
            background: none;
            border: none;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            color: #6b7280;
        }

        .notification-btn:hover {
            background: #f3f4f6;
        }

        .notification-badge {
            position: absolute;
            top: 4px;
            right: 4px;
            width: 8px;
            height: 8px;
            background: #ef4444;
            border-radius: 50%;
        }

        .logout-btn {
            background: none;
            border: none;
            padding: 8px;
            border-radius: 6px;
            cursor: pointer;
            color: #6b7280;
        }

        .logout-btn:hover {
            background: #f3f4f6;
        }

        /* Content Area */
        .content {
            padding: 24px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .page-header {
            margin-bottom: 32px;
        }

        .page-title {
            font-size: 32px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .page-subtitle {
            color: #6b7280;
            font-size: 16px;
        }

        /* Cards */
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            overflow: hidden;
        }

        .card-header {
            padding: 20px;
            border-bottom: 1px solid #e5e7eb;
        }

        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
        }

        .card-content {
            padding: 20px;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }

        .stat-card {
            background: white;
            border-radius: 12px;
            padding: 24px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .stat-header {
            display: flex;
            align-items: center;
            justify-content: between;
            margin-bottom: 16px;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }

        .stat-icon.blue { background: #dbeafe; color: #3b82f6; }
        .stat-icon.green { background: #dcfce7; color: #16a34a; }
        .stat-icon.yellow { background: #fef3c7; color: #d97706; }
        .stat-icon.purple { background: #e9d5ff; color: #9333ea; }

        .stat-value {
            font-size: 28px;
            font-weight: bold;
            color: #1f2937;
            margin-bottom: 4px;
        }

        .stat-label {
            color: #6b7280;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .stat-change {
            color: #16a34a;
            font-size: 12px;
            font-weight: 500;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 24px;
            margin-bottom: 32px;
        }

        /* Progress Chart */
        .chart-container {
            height: 200px;
            display: flex;
            align-items: end;
            justify-content: space-between;
            padding: 20px 0;
            margin-bottom: 20px;
        }

        .chart-bar {
            flex: 1;
            margin: 0 4px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .bar {
            width: 100%;
            max-width: 32px;
            background: #3b82f6;
            border-radius: 4px 4px 0 0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .bar:hover {
            background: #2563eb;
        }

        .bar-label {
            margin-top: 8px;
            font-size: 12px;
            color: #6b7280;
            font-weight: 500;
        }

        .bar-value {
            font-size: 10px;
            color: #9ca3af;
            margin-top: 2px;
        }

        .activity-list > *:last-child {
    margin-bottom: 0; /* remove extra space after last item */
}


        .activity-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
        }

        .activity-icon {
            width: 32px;
            height: 32px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .activity-content {
            flex: 1;
        }

        .activity-title {
            font-weight: 500;
            color: #1f2937;
            font-size: 14px;
        }

        .activity-time {
            color: #6b7280;
            font-size: 12px;
        }

        /* Courses Grid */
        .courses-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
        }

        .course-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border: 1px solid #e5e7eb;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .course-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .course-image {
            width: 100%;
            height: 180px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
        }

        .course-content {
            padding: 20px;
        }

        .course-category {
            display: inline-block;
            background: #dbeafe;
            color: #3b82f6;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
            margin-bottom: 8px;
        }

        .course-title {
            font-size: 18px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .course-description {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .course-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            font-size: 12px;
            color: #6b7280;
        }

        .course-progress {
            margin-bottom: 16px;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 4px;
            font-size: 12px;
            color: #6b7280;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #3b82f6;
            border-radius: 3px;
            transition: width 0.3s ease;
        }

        /* Assessment Styles */
        .assessment-card {
            border-left: 4px solid #3b82f6;
            margin-bottom: 16px;
        }

        .assessment-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .assessment-title {
            font-weight: 600;
            color: #1f2937;
        }

        .assessment-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 500;
        }

        .status-upcoming { background: #fef3c7; color: #d97706; }
        .status-completed { background: #dcfce7; color: #16a34a; }
        .status-overdue { background: #fee2e2; color: #dc2626; }

        .assessment-course {
            color: #6b7280;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .assessment-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .assessment-type {
            background: #f3f4f6;
            color: #6b7280;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 10px;
            text-transform: uppercase;
        }

        /* Quiz Styles */
        .quiz-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .question-card {
            margin-bottom: 24px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .question-number {
            background: #3b82f6;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .question-points {
            color: #6b7280;
            font-size: 12px;
        }

        .question-text {
            font-size: 16px;
            font-weight: 500;
            color: #1f2937;
            margin-bottom: 16px;
        }

        .options-list > *:last-child {
    margin-bottom: 0;
}


        .option {
            display: flex;
            align-items: center;
            padding: 12px;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            border-color: #3b82f6;
            background: #f8fafc;
        }

        .option.selected {
            border-color: #3b82f6;
            background: #dbeafe;
        }

        .option input {
            margin-right: 12px;
        }

        /* Form Styles */
        .form-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-bottom: 20px;
        }

        .form-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
        }

        .btn-secondary {
            background: #f3f4f6;
            color: #374151;
            border: 1px solid #d1d5db;
        }

        .btn-secondary:hover {
            background: #e5e7eb;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .modal {
            background: white;
            border-radius: 12px;
            padding: 24px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #6b7280;
        }

        /* Subscription Styles */
        .pricing-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 24px;
            margin-top: 32px;
        }

        .pricing-card {
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 24px;
            text-align: center;
            position: relative;
            transition: all 0.3s ease;
        }

        .pricing-card:hover {
            border-color: #3b82f6;
            transform: translateY(-4px);
        }

        .pricing-card.popular {
            border-color: #3b82f6;
            background: linear-gradient(135deg, #dbeafe 0%, #f0f9ff 100%);
        }

        .popular-badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background: #3b82f6;
            color: white;
            padding: 4px 16px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .plan-name {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 8px;
        }

        .plan-price {
            font-size: 32px;
            font-weight: bold;
            color: #3b82f6;
            margin-bottom: 16px;
        }

        .plan-features {
            list-style: none;
            margin-bottom: 24px;
        }

        .plan-features li {
            padding: 8px 0;
            color: #6b7280;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .plan-features li::before {
            content: "âœ“";
            color: #16a34a;
            font-weight: bold;
            margin-right: 8px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
            }

            .main-content.sidebar-open {
                margin-left: 0;
            }

            .close-sidebar {
                display: block;
            }

            .search-input {
                width: 200px;
            }

            .content {
                padding: 16px;
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .content-grid {
                grid-template-columns: 1fr;
            }

            .form-grid {
                grid-template-columns: 1fr;
            }

            .courses-grid {
                grid-template-columns: 1fr;
            }

            .pricing-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Utility Classes */
        .hidden { display: none !important; }
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .mb-4 { margin-bottom: 16px; }
        .mb-6 { margin-bottom: 24px; }
        .mt-4 { margin-top: 16px; }
        .mt-6 { margin-top: 24px; }

        /* Loading Spinner */
        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid #f3f3f3;
            border-top: 2px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
    </style>
</head>
<!-- Authentication Screen -->
<div id="authScreen" class="auth-container" style="
    position: relative;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background-image: url('StockCake-Students Studying Together_1758754613(1).jpg');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
">

    <!-- Overlay to dim the background -->
    <div style="
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.6); /* dark overlay, change opacity for more/less visibility */
        z-index: 0;
    "></div>

    <div class="auth-card" style="
        position: relative;
        z-index: 1;
        background: rgba(255, 255, 255, 0.95); 
        padding: 2rem; 
        border-radius: 12px; 
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        width: 100%;
        max-width: 400px;
    ">
        <div class="auth-header" style="text-align: center; margin-bottom: 1.5rem;">
            <div class="logo-container" style="margin-bottom: 1rem;">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="currentColor" style="width: 50px; height: 50px;">
                    <path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/>
                </svg>
            </div>
            <h1 class="auth-title">Star Learners Academy</h1>
            <p class="auth-subtitle" id="authSubtitle">Welcome back! Sign in to continue learning</p>
        </div>

        <form id="authForm">
            <div class="form-group" id="nameGroup" style="display: none;">
                <label class="form-label" for="fullName">Full Name</label>
                <input type="text" id="fullName" class="form-input" placeholder="Enter your full name">
                <div class="error-message" id="nameError"></div>
            </div>

            <div class="form-group">
                <label class="form-label" for="email">Email Address</label>
                <input type="email" id="email" class="form-input" placeholder="Enter your email" required>
                <div class="error-message" id="emailError"></div>
            </div>

            <div class="form-group">
                <label class="form-label" for="password">Password</label>
                <input type="password" id="password" class="form-input" placeholder="Enter your password" required>
                <div class="error-message" id="passwordError"></div>
            </div>

            <button type="submit" class="btn btn-primary" id="authSubmit">
                <span id="authButtonText">Sign In</span>
                <div class="spinner hidden" id="authSpinner"></div>
            </button>
        </form>

        <div class="auth-switch" style="text-align: center; margin-top: 1rem;">
            <p>Don't have an account? <a href="#" id="authToggle">Sign up</a></p>
        </div>

        <div class="demo-accounts" style="margin-top: 1.5rem;">
            <p class="demo-title">Demo Accounts:</p>
            <div class="demo-grid" style="display: flex; gap: 1rem; justify-content: space-between;">
                <div class="demo-account" style="background: #f0f0f0; padding: 0.5rem; border-radius: 8px; text-align: center;">
                    <div class="demo-role">Student</div>
                    <div>student@demo.com</div>
                    <div>password</div>
                </div>
                <div class="demo-account" style="background: #f0f0f0; padding: 0.5rem; border-radius: 8px; text-align: center;">
                    <div class="demo-role">Admin</div>
                    <div>admin@demo.com</div>
                    <div>password</div>
                </div>
            </div>
        </div>
    </div>
</div>


    <!-- Main Application -->
    <div id="appScreen" class="app-container hidden">
        <!-- Sidebar -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <div class="sidebar-logo-icon">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="white">
                            <path d="M12 3L1 9l4 2.18v6L12 21l7-3.82v-6l2-1.09V17h2V9L12 3zm6.82 6L12 12.72 5.18 9 12 5.28 18.82 9zM17 15.99l-5 2.73-5-2.73v-3.72L12 15l5-2.73v3.72z"/>
                        </svg>
                    </div>
                    <span class="sidebar-logo-text">Star Learners</span>
                </div>
                <button class="close-sidebar" onclick="toggleSidebar()">Ã—</button>
            </div>

            <div class="sidebar-nav">
                <a class="nav-item active" onclick="showPage('dashboard')">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"/>
                    </svg>
                    Dashboard
                </a>
                <a class="nav-item" onclick="showPage('courses')">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                    </svg>
                    Courses
                </a>
                <a class="nav-item" onclick="showPage('assessments')">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                    </svg>
                    Assessments
                </a>
                <a class="nav-item" onclick="showPage('progress')">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
                    </svg>
                    Progress
                </a>
                <a class="nav-item" onclick="showPage('profile')">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    Profile
                </a>
                <a class="nav-item" onclick="showPage('ai-assistant')">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"/>
                    </svg>
                    AI Assistant
                </a>
                <a class="nav-item" onclick="showPage('projects')">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M10 4H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2h-8l-2-2z"/>
                    </svg>
                    Projects
                </a>
                <a class="nav-item" onclick="showPage('subscription')">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 4H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/>
                    </svg>
                    Subscription
                </a>
                <a class="nav-item" id="adminNav" onclick="showPage('admin')" style="display: none;">
                    <svg class="nav-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
                    </svg>
                    Admin
                </a>
            </div>

            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div class="user-details">
                        <div class="user-name" id="userName">User Name</div>
                        <div class="user-plan" id="userPlan">free plan</div>
                    </div>
                </div>
            </div>
        </nav>

        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <!-- Header -->
            <header class="header">
                <div class="header-left">
                    <button class="menu-toggle" onclick="toggleSidebar()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                        </svg>
                    </button>
                    <div class="search-container">
                        <svg class="search-icon" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                        </svg>
                        <input type="text" class="search-input" placeholder="Search courses, assessments...">
                    </div>
                </div>
                <div class="header-right">
                    <button class="notification-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
                        </svg>
                        <span class="notification-badge"></span>
                    </button>
                    <button class="logout-btn" onclick="logout()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.59L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"/>
                        </svg>
                    </button>
                </div>
            </header>

            <!-- Page Content -->
            <main class="content">
                <!-- Dashboard Page -->
                <div id="dashboardPage" class="page">
                    <div class="page-header">
                        <h1 class="page-title">Welcome back, <span id="dashboardUserName">Student</span>! ðŸ‘‹</h1>
                        <p class="page-subtitle">Ready to continue your learning journey? Here's what's happening today.</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon blue">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                            </div>
                            <div class="stat-value" id="enrolledCoursesCount">3</div>
                            <div class="stat-label">Enrolled Courses</div>
                            <div class="stat-change">+2 this month</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon green">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
                                    <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                                </svg>
                            </div>
                            <div class="stat-value" id="studyHours">24</div>
                            <div class="stat-label">Study Hours</div>
                            <div class="stat-change">+12 this week</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon yellow">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M9 11H7v6h2v-6zm4 0h-2v6h2v-6zm4 0h-2v6h2v-6zm2.5-9H19v2h-1.5v17.5c0 .83-.67 1.5-1.5 1.5h-9c-.83 0-1.5-.67-1.5-1.5V4H4.5V2h4.5c0-.83.67-1.5 1.5-1.5h3c.83 0 1.5.67 1.5 1.5h4.5z"/>
                                </svg>
                            </div>
                            <div class="stat-value" id="assessmentsPassed">8</div>
                            <div class="stat-label">Assessments Passed</div>
                            <div class="stat-change">+3 this month</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon purple">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                </svg>
                            </div>
                            <div class="stat-value" id="averageScore">85%</div>
                            <div class="stat-label">Average Score</div>
                            <div class="stat-change">+5% improvement</div>
                        </div>
                    </div>

                    <div class="content-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Weekly Study Progress</h3>
                            </div>
                            <div class="card-content">
                                <div class="chart-container" id="progressChart">
                                    <div class="chart-bar">
                                        <div class="bar" style="height: 60px;"></div>
                                        <div class="bar-label">Mon</div>
                                        <div class="bar-value">2h</div>
                                    </div>
                                    <div class="chart-bar">
                                        <div class="bar" style="height: 90px;"></div>
                                        <div class="bar-label">Tue</div>
                                        <div class="bar-value">3h</div>
                                    </div>
                                    <div class="chart-bar">
                                        <div class="bar" style="height: 30px;"></div>
                                        <div class="bar-label">Wed</div>
                                        <div class="bar-value">1h</div>
                                    </div>
                                    <div class="chart-bar">
                                        <div class="bar" style="height: 120px;"></div>
                                        <div class="bar-label">Thu</div>
                                        <div class="bar-value">4h</div>
                                    </div>
                                    <div class="chart-bar">
                                        <div class="bar" style="height: 60px;"></div>
                                        <div class="bar-label">Fri</div>
                                        <div class="bar-value">2h</div>
                                    </div>
                                    <div class="chart-bar">
                                        <div class="bar" style="height: 150px;"></div>
                                        <div class="bar-label">Sat</div>
                                        <div class="bar-value">5h</div>
                                    </div>
                                    <div class="chart-bar">
                                        <div class="bar" style="height: 90px;"></div>
                                        <div class="bar-label">Sun</div>
                                        <div class="bar-value">3h</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Upcoming Assessments</h3>
                            </div>
                            <div class="card-content">
                                <div class="assessment-card">
                                    <div class="assessment-header">
                                        <div class="assessment-title">Chemistry Midterm</div>
                                        <div class="assessment-status status-upcoming">2 days left</div>
                                    </div>
                                    <div class="assessment-course">Introduction to Chemistry</div>
                                    <div class="assessment-meta">
                                        <div class="assessment-type">exam</div>
                                    </div>
                                </div>

                                <div class="assessment-card">
                                    <div class="assessment-header">
                                        <div class="assessment-title">Physics Lab Report</div>
                                        <div class="assessment-status status-upcoming">5 days left</div>
                                    </div>
                                    <div class="assessment-course">Advanced Physics</div>
                                    <div class="assessment-meta">
                                        <div class="assessment-type">assignment</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="content-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Recent Activity</h3>
                            </div>
                            <div class="card-content">
                                <div class="activity-list">
                                    <div class="activity-item">
                                        <div class="activity-icon blue">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                            </svg>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-title">Completed lesson "Chemical Bonds"</div>
                                            <div class="activity-time">2 hours ago</div>
                                        </div>
                                    </div>

                                    <div class="activity-item">
                                        <div class="activity-icon green">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-title">Passed Chemistry Quiz</div>
                                            <div class="activity-time">1 day ago</div>
                                        </div>
                                    </div>

                                    <div class="activity-item">
                                        <div class="activity-icon purple">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
                                                <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                                            </svg>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-title">Study session: Physics</div>
                                            <div class="activity-time">2 days ago</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Quick Actions</h3>
                            </div>
                            <div class="card-content">
                                <div class="activity-list">
                                    <div class="activity-item" onclick="showPage('courses')" style="cursor: pointer;">
                                        <div class="activity-icon blue">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                            </svg>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-title">Browse Courses</div>
                                            <div class="activity-time">Discover new learning opportunities</div>
                                        </div>
                                    </div>

                                    <div class="activity-item" onclick="showPage('assessments')" style="cursor: pointer;">
                                        <div class="activity-icon green">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                                            </svg>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-title">Take Assessment</div>
                                            <div class="activity-time">Test your knowledge</div>
                                        </div>
                                    </div>

                                    <div class="activity-item" onclick="showPage('ai-assistant')" style="cursor: pointer;">
                                        <div class="activity-icon purple">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"/>
                                            </svg>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-title">AI Assistant</div>
                                            <div class="activity-time">Get personalized help</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
<!-- Courses & Assessments Page -->
<div id="coursesPage" class="page hidden">
    <h2 class="page-title">Courses</h2>
    <div id="coursesGrid" class="grid-container"></div>
</div>

<div id="assessmentsPage" class="page hidden">
    <h2 class="page-title">Assessments</h2>
    <div id="assessmentsGrid" class="grid-container"></div>
</div>

<!-- Quiz Modal -->
<div id="quizModal" class="modal hidden">
    <div class="modal-content">
        <h3 id="quizTitle"></h3>
        <div id="quizContent"></div>
    </div>
</div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Achievements</h3>
                            </div>
                            <div class="card-content">
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <div class="stat-value" id="totalStudyTime">0</div>
                                        <div class="stat-label">Total Study Time (hours)</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" id="studyStreak">0</div>
                                        <div class="stat-label">Current Streak (days)</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Profile Page -->
                <div id="profilePage" class="page hidden">
                    <div class="page-header">
                        <h1 class="page-title">Profile</h1>
                        <p class="page-subtitle">Manage your account settings and personal information.</p>
                    </div>

                    <div class="content-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Personal Information</h3>
                            </div>
                            <div class="card-content">
                                <form id="profileForm">
                                    <div class="form-group">
                                        <label class="form-label" for="profileName">Full Name</label>
                                        <input type="text" id="profileName" class="form-input" placeholder="Enter your full name">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="profileEmail">Email Address</label>
                                        <input type="email" id="profileEmail" class="form-input" placeholder="Enter your email" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label" for="profileBio">Bio</label>
                                        <textarea id="profileBio" class="form-input" rows="4" placeholder="Tell us about yourself..."></textarea>
                                    </div>
                                    <button type="submit" class="btn btn-primary">Update Profile</button>
                                </form>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Account Statistics</h3>
                            </div>
                            <div class="card-content">
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <div class="stat-value" id="profileCoursesCount">0</div>
                                        <div class="stat-label">Enrolled Courses</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" id="profileAssessmentsCount">0</div>
                                        <div class="stat-label">Completed Assessments</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Assistant Page -->
                <div id="ai-assistantPage" class="page hidden">
                    <div class="page-header">
                        <h1 class="page-title">AI Learning Assistant</h1>
                        <p class="page-subtitle">Get personalized help and guidance for your learning journey.</p>
                    </div>

                    <div class="card">
                        <div class="card-content">
                            <div id="chatContainer" style="height: 400px; overflow-y: auto; border: 1px solid #e5e7eb; border-radius: 8px; padding: 16px; margin-bottom: 16px;">
                                <div class="activity-item">
                                    <div class="activity-icon blue">
                                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"/>
                                        </svg>
                                    </div>
                                    <div class="activity-content">
                                        <div class="activity-title">AI Assistant</div>
                                        <div class="activity-time">Hello! I'm your AI learning assistant. How can I help you today? You can ask me about course content, study tips, or any learning-related questions.</div>
                                    </div>
                                </div>
                            </div>
                            <form id="chatForm" class="form-grid">
                                <div class="form-group" style="grid-column: 1 / -1;">
                                    <input type="text" id="chatInput" class="form-input" placeholder="Ask me anything about your studies..." required>
                                </div>
                                <button type="submit" class="btn btn-primary">Send</button>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Projects Page -->
                <div id="projectsPage" class="page hidden">
                    <div class="page-header">
                        <h1 class="page-title">Final Projects</h1>
                        <p class="page-subtitle">Work on comprehensive projects to demonstrate your learning and skills.</p>
                    </div>

                    <div class="courses-grid" id="projectsGrid">
                        <!-- Projects will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Subscription Page -->
                <div id="subscriptionPage" class="page hidden">
                    <div class="page-header">
                        <h1 class="page-title">Subscription Plans</h1>
                        <p class="page-subtitle">Choose the perfect plan to accelerate your learning journey.</p>
                    </div>

                    <div class="pricing-grid">
                        <div class="pricing-card">
                            <div class="plan-name">Free</div>
                            <div class="plan-price">$0<span style="font-size: 16px; color: #6b7280;">/month</span></div>
                            <ul class="plan-features">
                                <li>Access to basic courses</li>
                                <li>Limited assessments</li>
                                <li>Community support</li>
                                <li>Basic progress tracking</li>
                            </ul>
                            <button class="btn btn-secondary" style="width: 100%;">Current Plan</button>
                        </div>

                        <div class="pricing-card popular">
                            <div class="popular-badge">Most Popular</div>
                            <div class="plan-name">Premium</div>
                            <div class="plan-price">$19<span style="font-size: 16px; color: #6b7280;">/month</span></div>
                            <ul class="plan-features">
                                <li>Access to all courses</li>
                                <li>Unlimited assessments</li>
                                <li>AI Assistant access</li>
                                <li>Advanced analytics</li>
                                <li>Priority support</li>
                                <li>Certificate generation</li>
                            </ul>
                            <button class="btn btn-primary" style="width: 100%;">Upgrade Now</button>
                        </div>

                        <div class="pricing-card">
                            <div class="plan-name">Pro</div>
                            <div class="plan-price">$39<span style="font-size: 16px; color: #6b7280;">/month</span></div>
                            <ul class="plan-features">
                                <li>Everything in Premium</li>
                                <li>1-on-1 mentoring sessions</li>
                                <li>Custom learning paths</li>
                                <li>Advanced project reviews</li>
                                <li>Industry partnerships</li>
                                <li>Job placement assistance</li>
                            </ul>
                            <button class="btn btn-primary" style="width: 100%;">Upgrade Now</button>
                        </div>
                    </div>
                </div>

                <!-- Admin Page -->
                <div id="adminPage" class="page hidden">
                    <div class="page-header">
                        <h1 class="page-title">Admin Dashboard</h1>
                        <p class="page-subtitle">Manage users, courses, and system settings.</p>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon blue">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                </svg>
                            </div>
                            <div class="stat-value">1,234</div>
                            <div class="stat-label">Total Users</div>
                            <div class="stat-change">+12% this month</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon green">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                            </div>
                            <div class="stat-value">45</div>
                            <div class="stat-label">Active Courses</div>
                            <div class="stat-change">+3 this week</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon yellow">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm2 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                </svg>
                            </div>
                            <div class="stat-value">892</div>
                            <div class="stat-label">Assessments Taken</div>
                            <div class="stat-change">+156 this week</div>
                        </div>

                        <div class="stat-card">
                            <div class="stat-icon purple">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M20 4H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/>
                                </svg>
                            </div>
                            <div class="stat-value">$12,450</div>
                            <div class="stat-label">Monthly Revenue</div>
                            <div class="stat-change">+8% this month</div>
                        </div>
                    </div>

                    <div class="content-grid">
                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">Recent User Activity</h3>
                            </div>
                            <div class="card-content">
                                <div class="activity-list">
                                    <div class="activity-item">
                                        <div class="activity-icon blue">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                                            </svg>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-title">New user registration: john@example.com</div>
                                            <div class="activity-time">5 minutes ago</div>
                                        </div>
                                    </div>

                                    <div class="activity-item">
                                        <div class="activity-icon green">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M20 4H4c-1.11 0-2 .89-2 2v12c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/>
                                            </svg>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-title">Premium subscription: sarah@example.com</div>
                                            <div class="activity-time">1 hour ago</div>
                                        </div>
                                    </div>

                                    <div class="activity-item">
                                        <div class="activity-icon yellow">
                                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                                <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                                            </svg>
                                        </div>
                                        <div class="activity-content">
                                            <div class="activity-title">New course published: Advanced JavaScript</div>
                                            <div class="activity-time">3 hours ago</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="card">
                            <div class="card-header">
                                <h3 class="card-title">System Health</h3>
                            </div>
                            <div class="card-content">
                                <div class="stats-grid">
                                    <div class="stat-card">
                                        <div class="stat-value" style="color: #16a34a;">99.9%</div>
                                        <div class="stat-label">Uptime</div>
                                    </div>
                                    <div class="stat-card">
                                        <div class="stat-value" style="color: #3b82f6;">245ms</div>
                                        <div class="stat-label">Avg Response Time</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Quiz Modal -->
    <div id="quizModal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title" id="quizTitle">Assessment</h2>
                <button class="modal-close" onclick="closeQuiz()">Ã—</button>
            </div>
            <div id="quizContent">
                <!-- Quiz content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let isSignUp = false;
        let sidebarOpen = false;
        let currentPage = 'dashboard';
        let currentQuiz = null;
        let quizAnswers = [];

        // Sample data
        const sampleCourses = [
            {
                id: 1,
                title: 'Introduction to Chemistry',
                description: 'Learn the fundamentals of chemistry including atomic structure, chemical bonding, and reactions.',
                category: 'Science',
                difficulty: 'Beginner',
                duration: '8 weeks',
                lessons: 24,
                image: 'ðŸ§ª',
                progress: 65,
                enrolled: true,
                premium: false
            },
            {
                id: 2,
                title: 'Advanced Physics',
                description: 'Master complex physics concepts including quantum mechanics and relativity.',
                category: 'Science',
                difficulty: 'Advanced',
                duration: '12 weeks',
                lessons: 36,
                image: 'âš›ï¸',
                progress: 30,
                enrolled: true,
                premium: true
            },
            {
                id: 3,
                title: 'Web Development Basics',
                description: 'Learn HTML, CSS, and JavaScript to build modern websites.',
                category: 'Technology',
                difficulty: 'Beginner',
                duration: '10 weeks',
                lessons: 30,
                image: 'ðŸ’»',
                progress: 0,
                enrolled: false,
                premium: false
            },
            {
                id: 4,
                title: 'Data Science Fundamentals',
                description: 'Introduction to data analysis, statistics, and machine learning.',
                category: 'Technology',
                difficulty: 'Intermediate',
                duration: '14 weeks',
                lessons: 42,
                image: 'ðŸ“Š',
                progress: 0,
                enrolled: false,
                premium: true
            }
        ];

        const sampleAssessments = [
            {
                id: 1,
                title: 'Chemistry Basics Quiz',
                courseId: 1,
                courseName: 'Introduction to Chemistry',
                timeLimit: 30,
                attempts: 3,
                completed: false,
                score: null,
                questions: [
                    {
                        id: 1,
                        type: 'multiple-choice',
                        question: 'What is the chemical symbol for water?',
                        options: ['H2O', 'CO2', 'O2', 'N2'],
                        correctAnswer: 0,
                        points: 10
                    },
                    {
                        id: 2,
                        type: 'multiple-choice',
                        question: 'Which element has the atomic number 1?',
                        options: ['Helium', 'Hydrogen', 'Lithium', 'Carbon'],
                        correctAnswer: 1,
                        points: 10
                    },
                    {
                        id: 3,
                        type: 'multiple-choice',
                        question: 'What type of bond forms between metals and non-metals?',
                        options: ['Covalent', 'Ionic', 'Metallic', 'Hydrogen'],
                        correctAnswer: 1,
                        points: 15
                    }
                ]
            },
            {
                id: 2,
                title: 'Physics Fundamentals Test',
                courseId: 2,
                courseName: 'Advanced Physics',
                timeLimit: 45,
                attempts: 2,
                completed: true,
                score: 85,
                questions: [
                    {
                        id: 1,
                        type: 'multiple-choice',
                        question: 'What is the speed of light in vacuum?',
                        options: ['3 Ã— 10^8 m/s', '3 Ã— 10^6 m/s', '3 Ã— 10^10 m/s', '3 Ã— 10^5 m/s'],
                        correctAnswer: 0,
                        points: 20
                    }
                ]
            }
        ];

        const sampleProjects = [
            {
                id: 1,
                title: 'Chemistry Lab Report',
                description: 'Complete a comprehensive lab report on chemical reactions and analyze the results.',
                requirements: [
                    'Conduct 3 different chemical experiments',
                    'Document observations and results',
                    'Analyze data and draw conclusions',
                    'Submit a 2000-word report'
                ],
                dueDate: new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString(),
                submitted: false,
                grade: null,
                feedback: null
            },
            {
                id: 2,
                title: 'Web Development Portfolio',
                description: 'Create a personal portfolio website showcasing your web development skills.',
                requirements: [
                    'Responsive design using HTML, CSS, and JavaScript',
                    'At least 5 project showcases',
                    'Contact form functionality',
                    'Professional design and user experience'
                ],
                dueDate: new Date(Date.now() + 45 * 24 * 60 * 60 * 1000).toISOString(),
                submitted: false,
                grade: null,
                feedback: null
            }
        ];

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            checkAuthStatus();
            setupEventListeners();
            initializeSampleData();
        });

        // Event listeners
        function setupEventListeners() {
            // Auth form
            document.getElementById('authForm').addEventListener('submit', handleAuth);
            document.getElementById('authToggle').addEventListener('click', toggleAuthMode);
            
            // Study session form
            document.getElementById('studySessionForm').addEventListener('submit', logStudySession);
            
            // Profile form
            document.getElementById('profileForm').addEventListener('submit', updateProfile);
            
            // Chat form
            document.getElementById('chatForm').addEventListener('submit', handleChat);
        }

        // Authentication functions
        function checkAuthStatus() {
            const user = localStorage.getItem('lms_currentUser');
            if (user) {
                currentUser = JSON.parse(user);
                showApp();
            } else {
                showAuth();
            }
        }

        function showAuth() {
            document.getElementById('authScreen').classList.remove('hidden');
            document.getElementById('appScreen').classList.add('hidden');
        }

        function showApp() {
            document.getElementById('authScreen').classList.add('hidden');
            document.getElementById('appScreen').classList.remove('hidden');
            updateUserInterface();
            loadUserData();
        }

        function toggleAuthMode(e) {
            e.preventDefault();
            isSignUp = !isSignUp;
            
            const subtitle = document.getElementById('authSubtitle');
            const nameGroup = document.getElementById('nameGroup');
            const submitBtn = document.getElementById('authSubmit');
            const buttonText = document.getElementById('authButtonText');
            const toggleLink = document.getElementById('authToggle');
            const toggleText = toggleLink.parentElement;
            
            if (isSignUp) {
                subtitle.textContent = 'Join our learning community today';
                nameGroup.style.display = 'block';
                buttonText.textContent = 'Create Account';
                toggleText.innerHTML = 'Already have an account? <a href="#" id="authToggle">Sign in</a>';
            } else {
                subtitle.textContent = 'Welcome back! Sign in to continue learning';
                nameGroup.style.display = 'none';
                buttonText.textContent = 'Sign In';
                toggleText.innerHTML = 'Don\'t have an account? <a href="#" id="authToggle">Sign up</a>';
            }
            
            // Re-attach event listener
            document.getElementById('authToggle').addEventListener('click', toggleAuthMode);
            
            // Clear form and errors
            document.getElementById('authForm').reset();
            clearErrors();
        }

        function handleAuth(e) {
            e.preventDefault();
            clearErrors();
            
            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const fullName = document.getElementById('fullName').value;
            
            // Basic validation
            if (!validateEmail(email)) {
                showError('emailError', 'Please enter a valid email address');
                return;
            }
            
            if (password.length < 6) {
                showError('passwordError', 'Password must be at least 6 characters long');
                return;
            }
            
            if (isSignUp && !fullName.trim()) {
                showError('nameError', 'Please enter your full name');
                return;
            }
            
            // Show loading
            const spinner = document.getElementById('authSpinner');
            const buttonText = document.getElementById('authButtonText');
            const submitBtn = document.getElementById('authSubmit');
            
            spinner.classList.remove('hidden');
            buttonText.classList.add('hidden');
            submitBtn.disabled = true;
            
            // Simulate API call
            setTimeout(() => {
                if (isSignUp) {
                    handleSignUp(email, password, fullName);
                } else {
                    handleSignIn(email, password);
                }
                
                // Hide loading
                spinner.classList.add('hidden');
                buttonText.classList.remove('hidden');
                submitBtn.disabled = false;
            }, 1000);
        }

        function handleSignUp(email, password, fullName) {
            const users = JSON.parse(localStorage.getItem('lms_users') || '[]');
            
            if (users.find(user => user.email === email)) {
                showError('emailError', 'Email already exists');
                return;
            }
            
            const newUser = {
                id: Date.now().toString(),
                email,
                password,
                name: fullName,
                role: 'student',
                subscriptionTier: 'free',
                joinDate: new Date().toISOString(),
                bio: '',
                studySessions: [],
                enrolledCourses: [],
                completedAssessments: []
            };
            
            users.push(newUser);
            localStorage.setItem('lms_users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('lms_currentUser', JSON.stringify(currentUser));
            
            showApp();
        }

        function handleSignIn(email, password) {
            // Check demo accounts first
            if (email === 'student@demo.com' && password === 'password') {
                currentUser = {
                    id: 'demo-student',
                    email: 'student@demo.com',
                    name: 'Demo Student',
                    role: 'student',
                    subscriptionTier: 'free',
                    joinDate: new Date().toISOString(),
                    bio: 'Demo student account',
                    studySessions: [],
                    enrolledCourses: [1, 2],
                    completedAssessments: [2]
                };
                localStorage.setItem('lms_currentUser', JSON.stringify(currentUser));
                showApp();
                return;
            }
            
            if (email === 'admin@demo.com' && password === 'password') {
                currentUser = {
                    id: 'demo-admin',
                    email: 'admin@demo.com',
                    name: 'Demo Admin',
                    role: 'admin',
                    subscriptionTier: 'pro',
                    joinDate: new Date().toISOString(),
                    bio: 'Demo admin account',
                    studySessions: [],
                    enrolledCourses: [],
                    completedAssessments: []
                };
                localStorage.setItem('lms_currentUser', JSON.stringify(currentUser));
                showApp();
                return;
            }
            
            // Check regular users
            const users = JSON.parse(localStorage.getItem('lms_users') || '[]');
            const user = users.find(u => u.email === email && u.password === password);
            
            if (!user) {
                showError('passwordError', 'Invalid email or password');
                return;
            }
            
            currentUser = user;
            localStorage.setItem('lms_currentUser', JSON.stringify(currentUser));
            showApp();
        }

        function logout() {
            currentUser = null;
            localStorage.removeItem('lms_currentUser');
            showAuth();
        }

        function validateEmail(email) {
            return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
        }

        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId);
            const inputElement = errorElement.previousElementSibling;
            
            errorElement.textContent = message;
            inputElement.classList.add('error');
        }

        function clearErrors() {
            document.querySelectorAll('.error-message').forEach(error => {
                error.textContent = '';
            });
            document.querySelectorAll('.form-input').forEach(input => {
                input.classList.remove('error');
            });
        }

        // UI functions
        function updateUserInterface() {
            if (!currentUser) return;
            
            // Update user info in sidebar
            document.getElementById('userName').textContent = currentUser.name;
            document.getElementById('userPlan').textContent = currentUser.subscriptionTier + ' plan';
            document.getElementById('userAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
            
            // Update dashboard
            document.getElementById('dashboardUserName').textContent = currentUser.name;
            
            // Show admin nav if admin
            if (currentUser.role === 'admin') {
                document.getElementById('adminNav').style.display = 'flex';
            }
            
            // Update profile form
            document.getElementById('profileName').value = currentUser.name || '';
            document.getElementById('profileEmail').value = currentUser.email || '';
            document.getElementById('profileBio').value = currentUser.bio || '';
        }

        function loadUserData() {
            if (!currentUser) return;
            
            // Load study sessions
            loadStudySessions();
            
            // Update course enrollment status
            updateCourseEnrollment();
            
            // Update stats
            updateDashboardStats();
        }

        function initializeSampleData() {
            // Initialize sample data if not exists
            if (!localStorage.getItem('lms_courses')) {
                localStorage.setItem('lms_courses', JSON.stringify(sampleCourses));
            }
            if (!localStorage.getItem('lms_assessments')) {
                localStorage.setItem('lms_assessments', JSON.stringify(sampleAssessments));
            }
            if (!localStorage.getItem('lms_projects')) {
                localStorage.setItem('lms_projects', JSON.stringify(sampleProjects));
            }
        }

        // Navigation functions
        function toggleSidebar() {
            sidebarOpen = !sidebarOpen;
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('mainContent');
            
            if (sidebarOpen) {
                sidebar.classList.add('open');
                mainContent.classList.add('sidebar-open');
            } else {
                sidebar.classList.remove('open');
                mainContent.classList.remove('sidebar-open');
            }
        }

        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            document.getElementById(pageId + 'Page').classList.remove('hidden');
            
            // Update nav
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.classList.add('active');
            
            currentPage = pageId;
            
            // Load page-specific data
            switch(pageId) {
                case 'courses':
                    loadCourses();
                    break;
                case 'assessments':
                    loadAssessments();
                    break;
                case 'projects':
                    loadProjects();
                    break;
                case 'progress':
                    loadStudySessions();
                    break;
            }
            
            // Close sidebar on mobile
            if (window.innerWidth <= 768) {
                toggleSidebar();
            }
        }

        // Course functions
        function loadCourses() {
            const courses = JSON.parse(localStorage.getItem('lms_courses') || '[]');
            const coursesGrid = document.getElementById('coursesGrid');
            
            coursesGrid.innerHTML = courses.map(course => {
                const isEnrolled = currentUser.enrolledCourses && currentUser.enrolledCourses.includes(course.id);
                const canAccess = !course.premium || currentUser.subscriptionTier !== 'free';
                
                return `
                    <div class="course-card">
                        <div class="course-image">${course.image}</div>
                        <div class="course-content">
                            <div class="course-category">${course.category}</div>
                            <h3 class="course-title">${course.title}</h3>
                            <p class="course-description">${course.description}</p>
                            <div class="course-meta">
                                <span>${course.difficulty}</span>
                                <span>${course.duration}</span>
                                <span>${course.lessons} lessons</span>
                            </div>
                            ${isEnrolled ? `
                                <div class="course-progress">
                                    <div class="progress-label">
                                        <span>Progress</span>
                                        <span>${course.progress || 0}%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: ${course.progress || 0}%"></div>
                                    </div>
                                </div>
                            ` : ''}
                            <button class="btn ${isEnrolled ? 'btn-secondary' : 'btn-primary'}" 
                                    onclick="${isEnrolled ? `continueCourse(${course.id})` : `enrollCourse(${course.id})`}"
                                    ${!canAccess && !isEnrolled ? 'disabled' : ''}>
                                ${!canAccess && !isEnrolled ? 'Premium Required' : 
                                  isEnrolled ? 'Continue Learning' : 'Enroll Now'}
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function enrollCourse(courseId) {
            if (!currentUser.enrolledCourses) {
                currentUser.enrolledCourses = [];
            }
            
            if (!currentUser.enrolledCourses.includes(courseId)) {
                currentUser.enrolledCourses.push(courseId);
                localStorage.setItem('lms_currentUser', JSON.stringify(currentUser));
                
                // Update courses data
                const courses = JSON.parse(localStorage.getItem('lms_courses') || '[]');
                const course = courses.find(c => c.id === courseId);
                if (course) {
                    course.enrolled = true;
                    course.progress = 0;
                    localStorage.setItem('lms_courses', JSON.stringify(courses));
                }
                
                loadCourses();
                updateDashboardStats();
                alert('Successfully enrolled in the course!');
            }
        }

        function continueCourse(courseId) {
            alert('Course content would be displayed here. This is a demo version.');
        }

        function updateCourseEnrollment() {
            const courses = JSON.parse(localStorage.getItem('lms_courses') || '[]');
            const updatedCourses = courses.map(course => ({
                ...course,
                enrolled: currentUser.enrolledCourses && currentUser.enrolledCourses.includes(course.id)
            }));
            localStorage.setItem('lms_courses', JSON.stringify(updatedCourses));
        }

        // Assessment functions
        function loadAssessments() {
            const assessments = JSON.parse(localStorage.getItem('lms_assessments') || '[]');
            const assessmentsGrid = document.getElementById('assessmentsGrid');
            
            assessmentsGrid.innerHTML = assessments.map(assessment => {
                const isCompleted = currentUser.completedAssessments && currentUser.completedAssessments.includes(assessment.id);
                
                return `
                    <div class="course-card assessment-card">
                        <div class="course-image">ðŸ“</div>
                        <div class="course-content">
                            <div class="course-category">${assessment.courseName}</div>
                            <h3 class="course-title">${assessment.title}</h3>
                            <div class="course-meta">
                                <span>${assessment.timeLimit} minutes</span>
                                <span>${assessment.attempts} attempts</span>
                                <span>${assessment.questions.length} questions</span>
                            </div>
                            ${isCompleted ? `
                                <div class="course-progress">
                                    <div class="progress-label">
                                        <span>Score</span>
                                        <span>${assessment.score}%</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: ${assessment.score}%"></div>
                                    </div>
                                </div>
                            ` : ''}
                            <button class="btn ${isCompleted ? 'btn-secondary' : 'btn-primary'}" 
                                    onclick="startAssessment(${assessment.id})">
                                ${isCompleted ? 'Review Assessment' : 'Start Assessment'}
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function startAssessment(assessmentId) {
            const assessments = JSON.parse(localStorage.getItem('lms_assessments') || '[]');
            currentQuiz = assessments.find(a => a.id === assessmentId);
            
            if (!currentQuiz) return;
            
            quizAnswers = new Array(currentQuiz.questions.length).fill(null);
            
            document.getElementById('quizTitle').textContent = currentQuiz.title;
            document.getElementById('quizContent').innerHTML = generateQuizHTML();
            document.getElementById('quizModal').classList.remove('hidden');
        }

        function generateQuizHTML() {
            return `
                <div class="quiz-container">
                    ${currentQuiz.questions.map((question, index) => `
                        <div class="question-card card">
                            <div class="card-content">
                                <div class="question-header">
                                    <span class="question-number">Question ${index + 1}</span>
                                    <span class="question-points">${question.points} points</span>
                                </div>
                                <div class="question-text">${question.question}</div>
                                <div class="options-list">
                                    ${question.options.map((option, optionIndex) => `
                                        <label class="option">
                                            <input type="radio" name="question_${index}" value="${optionIndex}" 
                                                   onchange="updateAnswer(${index}, ${optionIndex})">
                                            ${option}
                                        </label>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    `).join('')}
                    <div class="form-actions">
                        <button class="btn btn-secondary" onclick="closeQuiz()">Cancel</button>
                        <button class="btn btn-primary" onclick="submitQuiz()">Submit Assessment</button>
                    </div>
                </div>
            `;
        }

        function updateAnswer(questionIndex, answerIndex) {
            quizAnswers[questionIndex] = answerIndex;
        }

        function submitQuiz() {
            if (quizAnswers.includes(null)) {
                alert('Please answer all questions before submitting.');
                return;
            }
            
            // Calculate score
            let correctAnswers = 0;
            let totalPoints = 0;
            let earnedPoints = 0;
            
            currentQuiz.questions.forEach((question, index) => {
                totalPoints += question.points;
                if (quizAnswers[index] === question.correctAnswer) {
                    correctAnswers++;
                    earnedPoints += question.points;
                }
            });
            
            const score = Math.round((earnedPoints / totalPoints) * 100);
            
            // Update assessment
            const assessments = JSON.parse(localStorage.getItem('lms_assessments') || '[]');
            const assessmentIndex = assessments.findIndex(a => a.id === currentQuiz.id);
            if (assessmentIndex !== -1) {
                assessments[assessmentIndex].completed = true;
                assessments[assessmentIndex].score = score;
                localStorage.setItem('lms_assessments', JSON.stringify(assessments));
            }
            
            // Update user data
            if (!currentUser.completedAssessments) {
                currentUser.completedAssessments = [];
            }
            if (!currentUser.completedAssessments.includes(currentQuiz.id)) {
                currentUser.completedAssessments.push(currentQuiz.id);
                localStorage.setItem('lms_currentUser', JSON.stringify(currentUser));
            }
            
            closeQuiz();
            alert(`Assessment completed! Your score: ${score}%`);
            loadAssessments();
            updateDashboardStats();
        }

        function closeQuiz() {
            document.getElementById('quizModal').classList.add('hidden');
            currentQuiz = null;
            quizAnswers = [];
        }

        // Project functions
        function loadProjects() {
            const projects = JSON.parse(localStorage.getItem('lms_projects') || '[]');
            const projectsGrid = document.getElementById('projectsGrid');
            
            projectsGrid.innerHTML = projects.map(project => {
                const dueDate = new Date(project.dueDate);
                const daysLeft = Math.ceil((dueDate - new Date()) / (1000 * 60 * 60 * 24));
                
                return `
                    <div class="course-card">
                        <div class="course-image">ðŸ“‹</div>
                        <div class="course-content">
                            <div class="course-category">Final Project</div>
                            <h3 class="course-title">${project.title}</h3>
                            <p class="course-description">${project.description}</p>
                            <div class="course-meta">
                                <span>Due: ${dueDate.toLocaleDateString()}</span>
                                <span>${daysLeft > 0 ? `${daysLeft} days left` : 'Overdue'}</span>
                            </div>
                            <div class="mb-4">
                                <strong>Requirements:</strong>
                                <ul style="margin-left: 20px; margin-top: 8px;">
                                    ${project.requirements.map(req => `<li style="margin-bottom: 4px;">${req}</li>`).join('')}
                                </ul>
                            </div>
                            ${project.submitted ? `
                                <div class="course-progress">
                                    <div class="progress-label">
                                        <span>Status</span>
                                        <span>Submitted</span>
                                    </div>
                                    ${project.grade ? `
                                        <div class="progress-label">
                                            <span>Grade</span>
                                            <span>${project.grade}%</span>
                                        </div>
                                    ` : ''}
                                </div>
                            ` : ''}
                            <button class="btn ${project.submitted ? 'btn-secondary' : 'btn-primary'}" 
                                    onclick="submitProject(${project.id})">
                                ${project.submitted ? 'View Submission' : 'Submit Project'}
                            </button>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function submitProject(projectId) {
            if (confirm('Are you ready to submit this project?')) {
                const projects = JSON.parse(localStorage.getItem('lms_projects') || '[]');
                const projectIndex = projects.findIndex(p => p.id === projectId);
                
                if (projectIndex !== -1) {
                    projects[projectIndex].submitted = true;
                    localStorage.setItem('lms_projects', JSON.stringify(projects));
                    loadProjects();
                    alert('Project submitted successfully!');
                }
            }
        }

        // Study session functions
        function logStudySession(e) {
            e.preventDefault();
            
            const subject = document.getElementById('sessionSubject').value;
            const duration = parseInt(document.getElementById('sessionDuration').value);
            
            const session = {
                id: Date.now(),
                subject,
                duration,
                date: new Date().toISOString()
            };
            
            if (!currentUser.studySessions) {
                currentUser.studySessions = [];
            }
            
            currentUser.studySessions.unshift(session);
            localStorage.setItem('lms_currentUser', JSON.stringify(currentUser));
            
            document.getElementById('studySessionForm').reset();
            loadStudySessions();
            updateDashboardStats();
            alert('Study session logged successfully!');
        }

        function loadStudySessions() {
            if (!currentUser || !currentUser.studySessions) return;
            
            const sessionsList = document.getElementById('studySessionsList');
            const totalTime = currentUser.studySessions.reduce((sum, session) => sum + session.duration, 0);
            
            document.getElementById('totalStudyTime').textContent = Math.round(totalTime / 60);
            document.getElementById('studyStreak').textContent = calculateStudyStreak();
            
            if (currentUser.studySessions.length === 0) {
                sessionsList.innerHTML = '<p class="text-center" style="color: #6b7280;">No study sessions logged yet.</p>';
                return;
            }
            
            sessionsList.innerHTML = `
                <div class="activity-list">
                    ${currentUser.studySessions.slice(0, 10).map(session => `
                        <div class="activity-item">
                            <div class="activity-icon blue">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
                                    <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                                </svg>
                            </div>
                            <div class="activity-content">
                                <div class="activity-title">${session.subject}</div>
                                <div class="activity-time">${new Date(session.date).toLocaleDateString()} - ${session.duration} minutes</div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function calculateStudyStreak() {
            if (!currentUser.studySessions || currentUser.studySessions.length === 0) return 0;
            
            const today = new Date();
            const dates = [...new Set(currentUser.studySessions.map(s => new Date(s.date).toDateString()))].sort((a, b) => new Date(b) - new Date(a));
            
            let streak = 0;
            let currentDate = today;
            
            for (const dateStr of dates) {
                const sessionDate = new Date(dateStr);
                const diffDays = Math.floor((currentDate - sessionDate) / (1000 * 60 * 60 * 24));
                
                if (diffDays === streak) {
                    streak++;
                } else if (diffDays === streak + 1 && streak === 0) {
                    streak = 1;
                } else {
                    break;
                }
                
                currentDate = sessionDate;
            }
            
            return streak;
        }

        // Profile functions
        function updateProfile(e) {
            e.preventDefault();
            
            const name = document.getElementById('profileName').value;
            const bio = document.getElementById('profileBio').value;
            
            currentUser.name = name;
            currentUser.bio = bio;
            
            localStorage.setItem('lms_currentUser', JSON.stringify(currentUser));
            updateUserInterface();
            
            alert('Profile updated successfully!');
        }

        // Chat functions
        function handleChat(e) {
            e.preventDefault();
            
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            const chatContainer = document.getElementById('chatContainer');
            
            // Add user message
            chatContainer.innerHTML += `
                <div class="activity-item">
                    <div class="activity-icon green">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                        </svg>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">You</div>
                        <div class="activity-time">${message}</div>
                    </div>
                </div>
            `;
            
            // Simulate AI response
            setTimeout(() => {
                const responses = [
                    "That's a great question! Based on your current progress, I'd recommend focusing on the fundamentals first.",
                    "I can help you with that! Have you tried breaking down the problem into smaller parts?",
                    "Excellent! Keep up the good work. Remember, consistent practice is key to mastering any subject.",
                    "I understand your concern. Let me suggest some additional resources that might help clarify this topic.",
                    "That's an interesting approach! You might also want to consider exploring related concepts to deepen your understanding."
                ];
                
                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                
                chatContainer.innerHTML += `
                    <div class="activity-item">
                        <div class="activity-icon blue">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                                <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 12h-2v-2h2v2zm0-4h-2V6h2v4z"/>
                            </svg>
                        </div>
                        <div class="activity-content">
                            <div class="activity-title">AI Assistant</div>
                            <div class="activity-time">${randomResponse}</div>
                        </div>
                    </div>
                `;
                
                chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1000);
            
            input.value = '';
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        // Dashboard functions
        function updateDashboardStats() {
            if (!currentUser) return;
            
            const enrolledCount = currentUser.enrolledCourses ? currentUser.enrolledCourses.length : 0;
            const completedCount = currentUser.completedAssessments ? currentUser.completedAssessments.length : 0;
            const totalStudyTime = currentUser.studySessions ? 
                Math.round(currentUser.studySessions.reduce((sum, session) => sum + session.duration, 0) / 60) : 0;
            
            document.getElementById('enrolledCoursesCount').textContent = enrolledCount;
            document.getElementById('assessmentsPassed').textContent = completedCount;
            document.getElementById('studyHours').textContent = totalStudyTime;
            
            // Update profile stats
            document.getElementById('profileCoursesCount').textContent = enrolledCount;
            document.getElementById('profileAssessmentsCount').textContent = completedCount;
        }

        // Responsive design
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768 && sidebarOpen) {
                // Auto-close sidebar on desktop
                const sidebar = document.getElementById('sidebar');
                const mainContent = document.getElementById('mainContent');
                sidebar.classList.remove('open');
                mainContent.classList.add('sidebar-open');
            }
        });
    </script>
</body>
</html>
